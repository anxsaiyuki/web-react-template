webpackJsonp([0],{193:function(e,o,t){var a=t(91),n=t(93),i=t(92);ApiConnectionMixins=t(94),t(225),e.exports=a.createClass({displayName:"exports",displayname:"topBar",mixins:[i,ApiConnectionMixins],getInitialState:function(){return{currentLangIndex:"",language:["en-US","zh-TW"],languageName:["English","中文"],loginState:0}},componentWillMount:function(){void 0!=n.load("auth")&&void 0!=n.load("userId")&&void 0!=n.load("userName")&&this.setState({loginState:1})},componentDidMount:function(){var e=this;void 0!=n.load("languageId")?document.l10n.requestLocales(this.state.language[n.load("languageId")]):"",$("#language-selection").on("change",function(){var o=e.state.language[$(this).val()];document.l10n.requestLocales(o),n.save("languageId",$(this).val())})},loginBox:function(){var e={hashTracking:!1},o=$(".loginModal").remodal(e);o.open(),$(".invalidLogin").hasClass("off")||$(".invalidLogin").addClass("off"),$(".emptyLogin").hasClass("off")||$(".emptyLogin").addClass("off"),$(".box-user-input").val(""),$(".box-password-input").val("")},login:function(){var e=this,o=$(".box-user-input").val(),t=$(".box-password-input").val();if(""==o||""==t)$(".emptyLogin").removeClass("off");else{var a="http://localhost:3000/api/Users/login",i=JSON.stringify({username:o,password:t});ApiConnectionMixins.postApi(a,i,function(t){401==t?($(".emptyLogin").hasClass("off")||$(".emptyLogin").addClass("off"),$(".invalidLogin").removeClass("off")):(alert("Login Successful"),n.save("auth",t.id),n.save("userId",t.userId),n.save("userName",o),e.setState({loginState:1}),$(".loginModal").remodal().close())})}},logout:function(){var e,o=this,t="http://localhost:3000/api/Users/logout?access_token="+n.load("auth");ApiConnectionMixins.postApi(t,e,function(e){alert("You have logged Out"),n.remove("auth"),n.remove("userId"),n.remove("userName"),o.setState({loginState:0}),console.log(e)})},render:function(){var e=this.state.languageName.map(function(e,o){return a.createElement("option",{value:o},e)});return a.createElement("div",null,a.createElement("div",{className:"row"},a.createElement("div",{className:"col-xs-12 top-bar-menu"},a.createElement("a",{href:"index.html",className:"home-link"},a.createElement("img",{className:"home-icon",src:"../img/home.png"})),a.createElement("select",{id:"language-selection",defaultValue:n.load("languageId")},e),0==this.state.loginState?a.createElement("a",{className:"login-link",onClick:this.loginBox},"Login"):a.createElement("a",{className:"logout-link",onClick:this.logout},"Logout"),0==this.state.loginState?"":a.createElement("div",{className:"welcome-user"},"Welcome "+n.load("userName")))),a.createElement("div",{className:"row"},a.createElement("div",{className:"banner col-xs-10 col-xs-offset-1"},"Banner")),a.createElement("div",{id:"loginModalWrapper"},a.createElement("div",{className:"remodal loginModal","data-popup-wrapper":"loginModalWrapper","data-remodal-id":"login-modal"},a.createElement("button",{"data-remodal-action":"close",className:"remodal-close"}),a.createElement("div",{className:"modal-border col-xs-12"},a.createElement("h1",{className:"modal-title"},this.l20nt("LoginTitle")),a.createElement("div",{className:"row login-box-row"},a.createElement("div",{className:"box-user-title"},this.l20nt("UserNameTitle")),a.createElement("input",{type:"text",className:"box-user-input col-xs-8 col-xs-offset-2"})),a.createElement("div",{className:"row login-box-row"},a.createElement("div",{className:"box-password-title"},this.l20nt("PasswordTitle")),a.createElement("input",{type:"password",className:"box-password-input col-xs-8 col-xs-offset-2"})),a.createElement("button",{className:"box-login-btn col-xs-8 col-xs-offset-2",onClick:this.login},this.l20nt("SignIn")),a.createElement("div",{className:"invalidLogin box-login-error off col-xs-12"},this.l20nt("Invalid")),a.createElement("div",{className:"emptyLogin box-login-error off col-xs-12"},this.l20nt("Empty")),a.createElement("a",{href:"user-forget.html",className:"box-forget-login col-xs-12"},this.l20nt("ForgetLogin"))))))}})},216:function(e,o){e.exports=".top-bar-menu{background-color:#000;padding-top:5px;padding-bottom:5px}#language-selection{float:right;height:24px}.home-link{float:left}.home-icon{height:24px}.login-link,.logout-link,.welcome-user{margin-right:10px;color:#fff;float:right}.login-link:hover,.logout-link:hover{cursor:pointer}#mask{background:#000;left:0;top:0;width:100%;height:100%;opacity:.8;z-index:999}#mask,#login-box{display:none;position:fixed}#login-box{background:#333;padding:10px;border:2px solid #ddd;float:left;font-size:1.2em;top:50%;left:50%;z-index:99999;box-shadow:0 0 20px #999;-moz-box-shadow:0 0 20px #999;-webkit-box-shadow:0 0 20px #999;border-radius:3px 3px 3px 3px;-moz-border-radius:3px;-webkit-border-radius:3px;transform:translate(-50%,-50%)}img.btn_close{float:right;margin:-28px -28px 0 0}img.btn_close:hover{cursor:pointer}.login-box-row{margin-top:5px;margin-bottom:5px}.box-user-title,.box-password-title{color:#fff}.box-user-title,.box-password-title,.box-forget-login,.box-login-error{font-size:15px;text-align:center}.box-forget-login:hover{cursor:pointer}.box-login-btn{margin-bottom:5px;-moz-box-shadow:0 10px 14px -7px #276873;-webkit-box-shadow:0 10px 14px -7px #276873;box-shadow:0 10px 14px -7px #276873;background:-webkit-gradient(linear,left top,left bottom,color-stop(.05,#599bb3),color-stop(1,#408c99));background:-moz-linear-gradient(top,#599bb3 5%,#408c99 100%);background:-webkit-linear-gradient(top,#599bb3 5%,#408c99 100%);background:-o-linear-gradient(top,#599bb3 5%,#408c99 100%);background:-ms-linear-gradient(top,#599bb3 5%,#408c99 100%);background:linear-gradient(to bottom,#599bb3 5%,#408c99 100%);filter:progid:DXImageTransform.Microsoft.gradient(startColorstr='#599bb3', endColorstr='#408c99',GradientType=0);background-color:#599bb3;-moz-border-radius:8px;-webkit-border-radius:8px;border-radius:8px;display:inline-block;cursor:pointer;color:#fff;font-family:Arial;font-size:15px;font-weight:700;text-decoration:none;text-shadow:0 1px 0 #3d768a}.box-login-btn:hover{background:-webkit-gradient(linear,left top,left bottom,color-stop(.05,#408c99),color-stop(1,#599bb3));background:-moz-linear-gradient(top,#408c99 5%,#599bb3 100%);background:-webkit-linear-gradient(top,#408c99 5%,#599bb3 100%);background:-o-linear-gradient(top,#408c99 5%,#599bb3 100%);background:-ms-linear-gradient(top,#408c99 5%,#599bb3 100%);background:linear-gradient(to bottom,#408c99 5%,#599bb3 100%);filter:progid:DXImageTransform.Microsoft.gradient(startColorstr='#408c99', endColorstr='#599bb3',GradientType=0);background-color:#408c99}.box-login-btn:active{position:relative;top:1px}.box-user-input,.box-password-input{border:1px solid #b7b7b7;-webkit-border-radius:20px;-webkit-box-shadow:2px 2px 2px 0 rgba(0,0,0,.2)inset;box-shadow:2px 2px 2px 0 rgba(0,0,0,.2)inset;text-shadow:1px 1px 0 rgba(255,255,255,.66)}.box-login-error{color:red}.banner{border:1px solid #000;height:100px;margin-top:10px;margin-bottom:10px}"},225:function(e,o,t){t(188)(t(216))}});